---
import logo from "../../assets/images/logo-s-plomberie.png";
import Whitelogo from "../../assets/images/logo-white-s-plomberie.png";
import img from "../../assets/images/backgrounds/bgModal.jpg";
import SideBar from "./SideBar.astro";

// Get current path
const { url } = Astro.request;
const { pathname } = new URL(url);

// Utility function
const isCurrent = (path: string) =>
  pathname === path || pathname.startsWith(path + '/');

const current01 = isCurrent('/') ? 'current' : '';
const current02 = isCurrent('/a-propos-s-plomberie') ? 'current' : '';
const current03 = isCurrent('/plomberie-sanitaire') ? 'current' : '';
const current04 = isCurrent('/debouchage-canalisation') ? 'current' : '';
const current05 = isCurrent('/contact') ? 'current' : '';
---

<header class="main-header main-header-three clearfix">
  <div class="main-header-three__wrapper">
    <div class="main-header-three__middle">
      <div class="container mx-auto px-4">
        <div class="main-header-three__middle-inner">
          <div class="logo-box">
            <a href="/">
              <img src={logo.src} alt="Logo de S-Plomberie" width="190" height="65" />
            </a>
          </div>

          <div class="contact-info !hidden xl:!block">
            <ul>
              <li>
                <div class="icon-box"><span class="icon-pin"></span></div>
                <div class="text-box">
                  <div><strong>Adresse</strong></div>
                  <p>Bruxelles et Wallonie</p>
                </div>
              </li>
              <li>
                <div class="icon-box"><span class="icon-email"></span></div>
                <div class="text-box">
                  <div><strong>Envoyer message</strong></div>
                  <p class="email">
                    <a href="mailto:contact@s-plomberie.be">contact@s-plomberie.be</a>
                  </p>
                </div>
              </li>
              <li>
                <div class="icon-box"><span class="icon-phone-call"></span></div>
                <div class="text-box">
                  <div><strong>Nous appeler</strong></div>
                  <p class="number"><a href="tel:0474565656">0474 56 56 56</a></p>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="main-header-three__bottom">
      <div class="container mx-auto px-4">
        <div class="main-header-three__bottom-inner">
          <div class="main-header-one__bottom-left">
            <nav class="main-menu main-menu--1">
              <div class="main-menu__inner">
                <a href="#" class="mobile-nav__toggler">
                  <i class="fa fa-bars"></i>
                </a>
                <div class="stricky-one-logo">
                  <div class="logo">
                    <a href="/">
                      <img src={logo.src} width="190" height="65" alt="S-plomberie" />
                    </a>
                  </div>
                </div>
                <ul class="main-menu__list">
                  <li class={current01}><a href="/">Accueil</a></li>
                  <li class={current02}><a href="/a-propos-s-plomberie">À propos</a></li>
                  <li class={current03}><a href="/plomberie-sanitaire">Plomberie</a></li>
                  <li class={current04}><a href="/debouchage-canalisation">Débouchage</a></li>
                  <li>
                    <a onclick="document.getElementById('devisModal').classList.remove('hidden')" class="cursor-pointer text-blue-600 underline">
                      Demande de devis
                    </a>
                  </li>
                  <li class={current05}><a href="/contact">Contact</a></li>
                </ul>
              </div>
            </nav>
          </div>
          <div class="main-header-one__bottom-right">
            <div class="side-content-button-box">
              <div class="side-content-button">
                <a class="navSidebar-button" href="#">
                  <span class="decor"></span>
                  <span class="decor"></span>
                  <span class="decor"></span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="mobile-nav__wrapper">
  <div class="mobile-nav__overlay mobile-nav__toggler"></div>
  <div class="mobile-nav__content">
    <span class="mobile-nav__close mobile-nav__toggler"><i class="fa fa-times"></i></span>
    <div class="logo-box">
      <a href="/" aria-label="logo image">
        <img src={Whitelogo.src} width="190" height="65" alt="S-plomberie" />
      </a>
    </div>
    <div class="mobile-nav__container"></div>
    <ul class="mobile-nav__contact">
      <li><i class="fa fa-envelope"></i><a href="mailto:contact@s-plomberie.be">contact@s-plomberie.be</a></li>
      <li><i class="fa fa-phone"></i><a href="tel:0474565656">0474 56 56 56</a></li>
    </ul>
    <div class="mobile-nav__top">
      <div class="mobile-nav__social">
        <a href="https://twitter.com/s_plomberie" class="fab fa-twitter" target="_blank"></a>
        <a href="https://www.facebook.com/SPlomberieBruxellesWallonie/" class="fab fa-square-facebook" target="_blank"></a>
        <a href="https://www.instagram.com/splomberiebruxelleswallonie/" class="fab fa-instagram" target="_blank"></a>
      </div>
    </div>
  </div>
</div>

<SideBar />

<!-- --- Model Form ---  -->
 <div
  id="devisModal"
  tabindex="-1"
  aria-hidden="true"
  class="fixed inset-0 z-[9999] hidden overflow-y-auto"
  aria-labelledby="labelModalDevis"
  role="dialog"
  aria-modal="true"
>
  <div class="flex items-center justify-center min-h-screen px-4 py-6">
    <div
      class="relative w-full max-w-3xl bg-cover bg-center bg-no-repeat rounded-lg shadow-lg"
      style={`background-image: url('${img.src}');`}
    >
      <div
        class="flex items-center justify-between px-4 py-3 bg-[#4683c4] rounded-t-lg"
      >
        <h5 class="!text-white text-lg font-semibold" id="labelModalDevis">
          Demande de devis
        </h5>
        <button
          type="button"
          class="text-white text-xl leading-none"
          onclick="document.getElementById('devisModal').classList.add('hidden')"
        >
          &times;
        </button>
      </div>
      <div class="p-6 rounded-b-lg">
        <div class="grid grid-cols-1 gap-4">
          <!--Start Contact Page Form-->
          <div>
            <form class="comment-one__form">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="comment-form__input-box">
                  <input
                    type="text"
                    placeholder="Nom"
                    name="nom04"
                    id="nom04"
                    class="w-full p-3 border border-gray-300 rounded"
                  />
                </div>
                <div class="comment-form__input-box">
                  <input
                    type="email"
                    placeholder="Adresse email"
                    name="email04"
                    id="email04"
                    class="w-full p-3 border border-gray-300 rounded"
                  />
                </div>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                <div class="comment-form__input-box">
                  <input
                    type="text"
                    placeholder="N° téléphone"
                    name="tel04"
                    id="tel04"
                    class="w-full p-3 border border-gray-300 rounded"
                  />
                </div>
                <div class="comment-form__input-box">
                  <input
                    type="text"
                    placeholder="Sujet"
                    name="sujet04"
                    id="sujet04"
                    class="w-full p-3 border border-gray-300 rounded"
                  />
                </div>
              </div>
              <div class="mt-1">
                <div class="comment-form__input-box">
                  <textarea
                    name="message04"
                    id="message04"
                    placeholder="Votre message"
                    class="w-full p-3 border border-gray-300 rounded h-32 resize-none"
                  ></textarea>
                </div>
                <div id="success04" class="mt-2"></div>
                <button
                  type="button"
                  onclick="envoyerDemandeDeDevis()"
                  data-text="Envoyer"
                  class="thm-btn comment-form__btn mt-4"
                >
                  Envoyer
                </button>
              </div>
            </form>
          </div>
          <!--End Contact Page Form-->
        </div>
      </div>
    </div>
  </div>
</div>

<!-- --- Model Form ---  -->


<div class="stricky-header stricked-menu main-menu">
  <div class="sticky-header__content"></div>
</div>
